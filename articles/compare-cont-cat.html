<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Comparing Effect Size for Continuous and Categorical Data â€¢ pinsearch</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Comparing Effect Size for Continuous and Categorical Data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pinsearch</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.4.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/pinsearch.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/compare-cont-cat.html">Comparing Effect Size for Continuous and Categorical Data</a></li>
    <li><a class="dropdown-item" href="../articles/contrast.html">Using Contrasts</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/marklhc/pinsearch/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Comparing Effect Size for Continuous and Categorical Data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/marklhc/pinsearch/blob/master/vignettes/compare-cont-cat.Rmd" class="external-link"><code>vignettes/compare-cont-cat.Rmd</code></a></small>
      <div class="d-none name"><code>compare-cont-cat.Rmd</code></div>
    </div>

    
    
<p>In this brief vignette, we compare the noninvariance effect size for
treating Likert-scale items as either continuous or ordinal.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/marklhc/pinsearch" class="external-link">pinsearch</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; This is lavaan 0.6-19</span></span>
<span><span class="co">#&gt; lavaan is FREE software! Please report any bugs.</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/" class="external-link">MASS</a></span>, include.only <span class="op">=</span> <span class="st">"mvrnorm"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">difR</span><span class="op">)</span></span></code></pre></div>
<p>Simulate a five-point example</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2049</span><span class="op">)</span></span>
<span><span class="va">num_obs</span> <span class="op">&lt;-</span> <span class="fl">500</span></span>
<span><span class="va">lambda1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">.9</span>, <span class="fl">.6</span>, length.out <span class="op">=</span> <span class="fl">7</span><span class="op">)</span></span>
<span><span class="va">lambda2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">lambda1</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="fl">1</span>, <span class="va">lambda1</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">cov1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/crossprod.html" class="external-link">tcrossprod</a></span><span class="op">(</span><span class="va">lambda1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">.5</span>, <span class="fl">7</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></span><span class="op">(</span><span class="va">cov1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"yy"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"yy"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">thres1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.5</span>, <span class="fl">0</span>, length.out <span class="op">=</span> <span class="fl">7</span><span class="op">)</span>,</span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.25</span>, length.out <span class="op">=</span> <span class="fl">7</span><span class="op">)</span>,</span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">7</span><span class="op">)</span>,</span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2.5</span>, length.out <span class="op">=</span> <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">thres2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">thres1</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">]</span>, <span class="op">-</span><span class="fl">0.5</span>, <span class="va">thres1</span><span class="op">[</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span>, <span class="op">-</span><span class="fl">0.5</span><span class="op">)</span>,</span>
<span>                <span class="va">thres1</span><span class="op">[</span><span class="fl">2</span>,<span class="op">]</span>,</span>
<span>                <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                <span class="va">thres1</span><span class="op">[</span><span class="fl">4</span>,<span class="op">]</span><span class="op">)</span></span>
<span><span class="va">mean1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">7</span><span class="op">)</span></span>
<span><span class="va">cov2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/crossprod.html" class="external-link">tcrossprod</a></span><span class="op">(</span><span class="va">lambda1</span><span class="op">)</span> <span class="op">*</span> <span class="fl">1.3</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">.5</span>, <span class="fl">7</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></span><span class="op">(</span><span class="va">cov2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/dimnames.html" class="external-link">dimnames</a></span><span class="op">(</span><span class="va">cov1</span><span class="op">)</span></span>
<span><span class="va">mean2</span> <span class="op">&lt;-</span> <span class="va">lambda1</span> <span class="op">*</span> <span class="fl">.4</span></span>
<span><span class="co"># Parameters:</span></span>
<span><span class="co"># Lambda</span></span>
<span><span class="op">(</span><span class="va">lam</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">lambda1</span>, <span class="va">lambda2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;         [,1] [,2] [,3] [,4] [,5] [,6] [,7]</span></span>
<span><span class="co">#&gt; lambda1  0.9 0.85  0.8 0.75  0.7 0.65  0.6</span></span>
<span><span class="co">#&gt; lambda2  0.9 1.00  0.8 0.75  0.7 0.65  0.6</span></span>
<span><span class="co"># Thresholds</span></span>
<span><span class="op">(</span><span class="va">nu</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">thres1</span><span class="op">)</span>, nm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span>, each <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span>
<span>             <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">thres2</span><span class="op">)</span>, nm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">7</span>, each <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;         1    1 1 1     2      2 2        2  3     3 3        3     4      4   4</span></span>
<span><span class="co">#&gt; [1,] -1.5 -0.5 1 2 -1.25 -0.375 1 2.083333 -1 -0.25 1 2.166667 -0.75 -0.125 1.0</span></span>
<span><span class="co">#&gt; [2,] -1.5 -0.5 1 2 -0.50 -0.375 1 2.083333 -1 -0.25 1 2.166667 -0.75 -0.125 0.5</span></span>
<span><span class="co">#&gt;         4    5 5   5        5     6     6 6        6    7    7 7   7</span></span>
<span><span class="co">#&gt; [1,] 2.25 -0.5 0 1.0 2.333333 -0.25 0.125 1 2.416667  0.0 0.25 1 2.5</span></span>
<span><span class="co">#&gt; [2,] 2.25 -0.5 0 0.5 2.333333 -0.25 0.125 1 2.416667 -0.5 0.25 1 2.5</span></span></code></pre></div>
<p>Population ES</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">dpop</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dmacs.html">dmacs_ordered</a></span><span class="op">(</span></span>
<span>  <span class="va">nu</span>,</span>
<span>  loadings <span class="op">=</span> <span class="va">lam</span>,</span>
<span>  thetas <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  link <span class="op">=</span> <span class="st">"probit"</span>,</span>
<span>  pooled_item_sd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  latent_mean <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  latent_sd <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;       [,1]      [,2] [,3]     [,4]      [,5] [,6]      [,7]</span></span>
<span><span class="co">#&gt; dmacs    0 0.2555382    0 0.143817 0.1449711    0 0.1696835</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ystar1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html" class="external-link">mvrnorm</a></span><span class="op">(</span><span class="va">num_obs</span>, mu <span class="op">=</span> <span class="va">mean1</span>, Sigma <span class="op">=</span> <span class="va">cov1</span><span class="op">)</span></span>
<span><span class="va">y1</span> <span class="op">&lt;-</span> <span class="va">ystar1</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">ystar1</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">y1</span><span class="op">[</span>, <span class="va">j</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/findInterval.html" class="external-link">findInterval</a></span><span class="op">(</span><span class="va">ystar1</span><span class="op">[</span>, <span class="va">j</span><span class="op">]</span>, <span class="va">thres1</span><span class="op">[</span>, <span class="va">j</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">ystar2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/MASS/man/mvrnorm.html" class="external-link">mvrnorm</a></span><span class="op">(</span><span class="va">num_obs</span>, mu <span class="op">=</span> <span class="va">mean2</span>, Sigma <span class="op">=</span> <span class="va">cov2</span><span class="op">)</span></span>
<span><span class="va">y2</span> <span class="op">&lt;-</span> <span class="va">ystar2</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">ystar2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">y2</span><span class="op">[</span>, <span class="va">j</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/findInterval.html" class="external-link">findInterval</a></span><span class="op">(</span><span class="va">ystar2</span><span class="op">[</span>, <span class="va">j</span><span class="op">]</span>, <span class="va">thres2</span><span class="op">[</span>, <span class="va">j</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">y1</span>, group <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">y2</span>, group <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">contfit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa</a></span><span class="op">(</span><span class="st">' f =~ yy1 + yy2 + yy3 + yy4 + yy5 + yy6 + yy7 '</span>,</span>
<span>               data <span class="op">=</span> <span class="va">df</span>, group <span class="op">=</span> <span class="st">"group"</span>,</span>
<span>               group.equal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"loadings"</span>, <span class="st">"intercepts"</span><span class="op">)</span>,</span>
<span>               group.partial <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yy2~1"</span>, <span class="st">"yy4~1"</span>,</span>
<span>                                 <span class="st">"yy5~1"</span>, <span class="st">"yy7~1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">dcont</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/es_lavaan.html">pin_effsize</a></span><span class="op">(</span><span class="va">contfit</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;           yy2-f     yy4-f     yy5-f     yy7-f</span></span>
<span><span class="co">#&gt; dmacs 0.1950139 0.1746383 0.1094671 0.2527195</span></span>
<span></span>
<span><span class="va">ps_cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pinSearch.html">pinSearch</a></span><span class="op">(</span><span class="st">' f =~ yy1 + yy2 + yy3 + yy4 + yy5 + yy6 + yy7 '</span>,</span>
<span>                    data <span class="op">=</span> <span class="va">df</span>, group <span class="op">=</span> <span class="st">"group"</span>, type <span class="op">=</span> <span class="st">"thresholds"</span>,</span>
<span>                    ordered <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"yy"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">dcat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/es_lavaan.html">pin_effsize</a></span><span class="op">(</span><span class="va">ps_cat</span><span class="op">$</span><span class="va">`Partial Invariance Fit`</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;           yy2-f     yy4-f     yy5-f     yy7-f</span></span>
<span><span class="co">#&gt; dmacs 0.2110674 0.1611903 0.1314062 0.2083824</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span>continuous <span class="op">=</span> <span class="va">dcont</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span>,</span>
<span>        categorical <span class="op">=</span> <span class="va">dcat</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span>,</span>
<span>        population <span class="op">=</span> <span class="va">dpop</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;                 yy2.f     yy4.f     yy5.f     yy7.f</span></span>
<span><span class="co">#&gt; continuous  0.1950139 0.1746383 0.1094671 0.2527195</span></span>
<span><span class="co">#&gt; categorical 0.2110674 0.1611903 0.1314062 0.2083824</span></span>
<span><span class="co">#&gt; population  0.2555382 0.1438170 0.1449711 0.1696835</span></span></code></pre></div>
<p>Compared to Mantel-Haenszel (MH)</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Dichotomous data (0, 1, 2 recoded to 0; 3, 4 recoded to 1)</span></span>
<span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="va">df</span></span>
<span><span class="va">df2</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">df2</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span> <span class="op">&gt;=</span> <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ps2_cat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pinSearch.html">pinSearch</a></span><span class="op">(</span><span class="st">' f =~ yy1 + yy2 + yy3 + yy4 + yy5 + yy6 + yy7 '</span>,</span>
<span>                     data <span class="op">=</span> <span class="va">df2</span>, group <span class="op">=</span> <span class="st">"group"</span>, type <span class="op">=</span> <span class="st">"thresholds"</span>,</span>
<span>                     ordered <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"yy"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">(</span><span class="va">dcat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/es_lavaan.html">pin_effsize</a></span><span class="op">(</span><span class="va">ps2_cat</span><span class="op">$</span><span class="va">`Partial Invariance Fit`</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;           yy4-f     yy5-f</span></span>
<span><span class="co">#&gt; dmacs 0.4098183 0.3721338</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/difR/man/difMH.html" class="external-link">difMH</a></span><span class="op">(</span><span class="va">df2</span>, group <span class="op">=</span> <span class="st">"group"</span>, focal.name <span class="op">=</span> <span class="fl">1</span>, purify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Detection of Differential Item Functioning using Mantel-Haenszel method </span></span>
<span><span class="co">#&gt; with continuity correction and with item purification</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Results based on asymptotic inference </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Convergence reached after 2 iterations</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matching variable: test score </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; No set of anchor items was provided </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; No p-value adjustment for multiple comparisons </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Mantel-Haenszel Chi-square statistic: </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;     Stat.   P-value    </span></span>
<span><span class="co">#&gt; yy1  1.3841  0.2394    </span></span>
<span><span class="co">#&gt; yy2  4.7013  0.0301 *  </span></span>
<span><span class="co">#&gt; yy3  1.4600  0.2269    </span></span>
<span><span class="co">#&gt; yy4 28.9282  0.0000 ***</span></span>
<span><span class="co">#&gt; yy5 22.2586  0.0000 ***</span></span>
<span><span class="co">#&gt; yy6  0.0189  0.8906    </span></span>
<span><span class="co">#&gt; yy7  0.0139  0.9060    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Detection threshold: 3.8415 (significance level: 0.05)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Items detected as DIF items: </span></span>
<span><span class="co">#&gt;     </span></span>
<span><span class="co">#&gt;  yy2</span></span>
<span><span class="co">#&gt;  yy4</span></span>
<span><span class="co">#&gt;  yy5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Effect size (ETS Delta scale): </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Effect size code: </span></span>
<span><span class="co">#&gt;  'A': negligible effect </span></span>
<span><span class="co">#&gt;  'B': moderate effect </span></span>
<span><span class="co">#&gt;  'C': large effect </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt;     alphaMH deltaMH  </span></span>
<span><span class="co">#&gt; yy1  1.3515 -0.7078 A</span></span>
<span><span class="co">#&gt; yy2  0.5882  1.2470 B</span></span>
<span><span class="co">#&gt; yy3  0.7174  0.7806 A</span></span>
<span><span class="co">#&gt; yy4  3.2242 -2.7511 C</span></span>
<span><span class="co">#&gt; yy5  2.7478 -2.3754 C</span></span>
<span><span class="co">#&gt; yy6  0.9434  0.1369 A</span></span>
<span><span class="co">#&gt; yy7  1.0536 -0.1227 A</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Effect size codes: 0 'A' 1.0 'B' 1.5 'C' </span></span>
<span><span class="co">#&gt;  (for absolute values of 'deltaMH') </span></span>
<span><span class="co">#&gt;  </span></span>
<span><span class="co">#&gt; Output was not captured!</span></span></code></pre></div>
<p>The results are consistent.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mark Lai.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
